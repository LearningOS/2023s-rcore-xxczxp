
## 设计思路

实现了copy_bytes函数，用于从当前地址空间复制一连串的字符到目标地址空间，用于实现了get_time和task_info系统调用

对于mmap和munmap的实现，mmap直接在task结构体中的memory_set中添加area
而munmap则需要考虑area的分割问题

## 简答作业

 1. 请列举 SV39 页表页表项的组成，描述其中的标志位有何作用？
    - 63-54位作为保留位，当其值与第五十三位一致时才被认为有效
    - 53-10位作为物理页号
    - 9-8作为留给S 态使用
    - 7-0作为标志位
        - 0 作为有效位
        - 1 是否可读
        - 2 是否可写
        - 3 是否可执行
        - 4 是否允许U特权级访问
        - 5 表示这个页表项是”全局"的
        - 6 是否被访问过
        - 7 是否被修改过

2. 缺页

    - 请问哪些异常可能是缺页导致的？
    ``
        Trap::Exception(Exception::StoreFault)
        | Trap::Exception(Exception::StorePageFault)
        | Trap::Exception(Exception::LoadFault)
        | Trap::Exception(Exception::LoadPageFault)
    ``
    - 发生缺页时，描述相关重要寄存器的值
        - stval储存了引发缺页的地址
        - scause 给出具体缺页的原因
        - sepc 记录了出发缺页指令的地址
    - 这样做有哪些好处？
        lazy策略可以一是加快程序的加载，只有在页面被访问时才被加载。二是可以节约内存空间，暂时用不到的页面就不被放入内存
    - 处理 10G 连续的内存页面，对应的 SV39 页表大致占用多少内存 (估算数量级即可)？
        一级页面大约有2.5M
    - 请简单思考如何才能实现 Lazy 策略，缺页时又如何处理？描述合理即可，不需要考虑实现
        在程序加载的时候只需要将程序的页表加载完成，V标记位设为0，但对应的页面不用加载进内存
        缺页时只需要将缺少的页面换到内存中，并将修改一级页表指向的物理内存
    - 此时页面失效如何表现在页表项(PTE)上？
        V标志位为0
3. 双页表与单页表
    - 在单页表情况下，如何更换页表？
        应该还是需要跳板代码，但是只需要在切换应用程序的时候更换页表
    - 单页表情况下，如何控制用户态无法访问内核页面？
        对对应的页表项进行设置，经U标志位设置为0就行
    - 单页表有何优势？
        陷入S态时不需要切换页表，可以节约非切换应用程序Trap的时间。
    - 双页表实现下，何时需要更换页表？假设你写一个单页表操作系统，你会选择何时更换页表
        双页表在陷入S态时就需要切换页表。而在单页表情况下只有当切换应用程序时才需要切换页表
## 荣誉准则


1. 在完成本次实验的过程（含此前学习的过程）中，我曾分别与 以下各位 就（与本次实验相关的）以下方面做过交流，还在代码中对应的位置以注释形式记录了具体的交流对象及内容：

        《你交流的对象说明》

2. 此外，我也参考了 以下资料 ，还在代码中对应的位置以注释形式记录了具体的参考来源及内容：

        实验指导书
        询问chatgpt （用于查询寄存器作用，结果发现这玩意回答错误）
        进行Google （用于查询寄存器作用）

3. 我独立完成了本次实验除以上方面之外的所有工作，包括代码与文档。 我清楚地知道，从以上方面获得的信息在一定程度上降低了实验难度，可能会影响起评分。

4. 我从未使用过他人的代码，不管是原封不动地复制，还是经过了某些等价转换。 我未曾也不会向他人（含此后各届同学）复制或公开我的实验代码，我有义务妥善保管好它们。 我提交至本实验的评测系统的代码，均无意于破坏或妨碍任何计算机系统的正常运转。 我清楚地知道，以上情况均为本课程纪律所禁止，若违反，对应的实验成绩将按“-100”分计。
